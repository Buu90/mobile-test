(()=>{"use strict";const e=document.querySelector(".modal");document.getElementById("closeModalBtn").addEventListener("click",(()=>{e.style.display="none"}));const t=document.querySelectorAll(".subscription"),n=document.getElementById("continueLink");let o=null;async function a(){const e=["de","en","es","fr","ja","pt"],t=navigator.language.slice(0,2),n=new URLSearchParams(window.location.search).get("lang");const o=e.includes(n)?n:e.includes(t)?t:"en",a=await async function(e){try{const t=await fetch(`js/lang/${e}.json`);if(!t.ok)throw new Error("Language file not found");return await t.json()}catch(e){return console.error(e),null}}(o);a&&function(e){document.querySelectorAll("[data-translate]").forEach((t=>{const n=t.getAttribute("data-translate");e[n]&&(t.innerHTML=e[n])})),document.querySelectorAll("[data-translate]").forEach(((e,t)=>{const n=e.textContent.length,o=parseInt(e.dataset.maxLength)||30,a=e.dataset.fontReduction||"fixed";if(n>o){const t=window.getComputedStyle(e),n=parseFloat(t.fontSize);if(isNaN(n))return;let o;o="percent"===a?.8*n:n-4,e.style.fontSize=`${Math.max(o,10)}px`}else e.style.fontSize=""}))}(a)}var c,s;t.forEach((e=>{e.addEventListener("click",(()=>{t.forEach((e=>{e.classList.remove("subscription--active");const t=e.closest(".highlight");t&&(t.style.backgroundImage="",t.style.display="block")})),e.classList.add("subscription--active");const a=e.closest(".highlight");a&&(a.style.backgroundImage="none"),o=e.dataset.url,o&&(n.href=o)}))})),n.addEventListener("click",(e=>{(!n.href||"#"===n.href)&&e.preventDefault()})),document.addEventListener("DOMContentLoaded",(()=>{a()})),c=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(s=new Image).onload=s.onerror=function(){c(2==s.height)},s.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"})();